std::reverse_iterator[edit] Iterator library

Iterator concepts



indirectly_readable(C++20)

indirectly_writable(C++20)

weakly_incrementable(C++20)

incrementable(C++20)

is-integer-likeis-signed-integer-like(C++20)(C++20)



sentinel_for(C++20)

sized_sentinel_for(C++20)

input_iterator(C++20)

output_iterator(C++20)

input_or_output_iterator(C++20)







forward_iterator(C++20)

bidirectional_iterator(C++20)

random_access_iterator(C++20)

contiguous_iterator(C++20)











Iterator primitives



input_iterator_tagoutput_iterator_tagforward_iterator_tagbidirectional_iterator_tagrandom_access_iterator_tagcontiguous_iterator_tag(C++20)



iter_value_titer_difference_titer_reference_titer_const_reference_titer_rvalue_reference_titer_common_reference_t(C++20)(C++20)(C++20)(C++23)(C++20)(C++20)



iterator(deprecated in C++17)

iterator_traits

incrementable_traits(C++20)

indirectly_readable_traits(C++20)











Algorithm concepts and utilities

Indirect callable concepts



indirectly_unary_invocableindirectly_regular_unary_invocable(C++20)(C++20)  



indirect_unary_predicate(C++20)

indirect_binary_predicate(C++20)



indirect_equivalence_relation(C++20)

indirect_strict_weak_order(C++20)



Common algorithm requirements



indirectly_movable(C++20)

indirectly_movable_storable(C++20)

indirectly_copyable(C++20)



indirectly_copyable_storable(C++20)  

indirectly_swappable(C++20)

indirectly_comparable(C++20)



permutable(C++20)

mergeable(C++20)

sortable(C++20)



Utilities



indirect_result_t(C++20)



projected(C++20)



projected_value_t(C++26)



Iterator adaptors



reverse_iterator

make_reverse_iterator(C++14)

move_iterator(C++11)

make_move_iterator(C++11)

default_sentinel_tdefault_sentinel(C++20)(C++20)

unreachable_sentinel_tunreachable_sentinel(C++20)(C++20)



front_insert_iterator

back_insert_iterator

inserter

insert_iterator

front_inserter

back_inserter

move_sentinel(C++20)







common_iterator(C++20)

counted_iterator(C++20)

basic_const_iterator(C++23)

const_iterator(C++23)

const_sentinel(C++23)

make_const_iterator(C++23)

make_const_sentinel(C++23)









Stream iterators



istream_iterator  

ostream_iterator



istreambuf_iterator

ostreambuf_iterator





Iterator customization points

ranges::iter_move(C++20)

ranges::iter_swap(C++20)





Iterator operations





advance

distance

prev(C++11)  

next(C++11)



ranges::advance(C++20)

ranges::distance(C++20)

ranges::prev(C++20)

ranges::next(C++20)







Range access





begincbegin(C++11)(C++14)

rbegincrbegin(C++14)(C++14)  



endcend(C++11)(C++14)

rendcrend(C++14)(C++14)  



sizessize(C++17)(C++20)

empty(C++17)

data(C++17)







[edit] std::reverse_iterator

Member functions

reverse_iterator::reverse_iterator

reverse_iterator::operator=

reverse_iterator::base

reverse_iterator::operator*reverse_iterator::operator->

reverse_iterator::operator[]

reverse_iterator::operator++reverse_iterator::operator+reverse_iterator::operator+=reverse_iterator::operator--reverse_iterator::operator-reverse_iterator::operator-=

Non-member functions

operator==operator!=operator<operator<=operator>operator>=operator<=>(C++20)

operator+

operator-

iter_move(C++20)

iter_swap(C++20)

make_reverse_iterator(C++14)

[edit] 





reverse_iterator();

 (1)

(constexpr since C++17)





explicit reverse_iterator( iterator_type x );

 (2)

(constexpr since C++17)





template< class U >

reverse_iterator( const reverse_iterator<U>& other );

 (3)

(constexpr since C++17)







Constructs a new reverse_iterator.







 Overload 



current





(1)



value-initialized





(2)



initialized with x





(3)



 initialized with other.current 



3) The converting constructor.





This overload participates in overload resolution only if std::is_same_v<U, Iter> is false and std::convertible_to<const U&, Iter> is modeled.





(since C++20)



Contents



1 Parameters

2 Example

3 Defect reports

4 See also





[edit] Parameters





 x



 -



 iterator to adapt





 other



 -



 iterator adaptor to copy



[edit] Example

Run this code

#include <cassert>

#include <concepts>

#include <iterator>

#include <vector>

 

int main()

{

    std::vector v{0, 1, 2, 3, 4};

 

    using ReverseIt = std::reverse_iterator<std::vector<int>::const_iterator>;

 

    ReverseIt i1; // overload (1)

    i1 = v.crbegin();

    assert(*i1 == 4);

 

    ReverseIt i2(i1); // overload (2)

    assert(i2[0] == 4);

 

    int x[]{1, 2, 3};

    auto i3 = std::reverse_iterator<int*>(x + std::size(x)); // overload (1)

    i3[0] = -3;

    assert(x[2] == -3);

    std::reverse_iterator<int const*> i4(i3); // overload (3): int => const int

    static_assert(std::convertible_to<decltype(i3)::value_type,

                                      decltype(i4)::value_type>);

    // i4[0] = 5; // Error: assignment of read-only location

}



[edit] Defect reports

The following behavior-changing defect reports were applied retroactively to previously published C++ standards.







DR



Applied to



Behavior as published



Correct behavior





LWG 235



C++98



the effect of overload (1) was not specified



specified





LWG 1012



C++98



overload (1) default-initialized current



it is value-initialized





LWG 3435



C++20



overload (3) was not constrained



constrained



[edit] See also





  operator=



  assigns another reverse_iterator  (public member function) [edit]





  make_reverse_iterator(C++14)



  creates a std::reverse_iterator of type inferred from the argument  (function template) [edit]









 





                    