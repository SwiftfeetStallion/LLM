std::flat_multiset









From cppreference.com





[edit] Containers library

node-handle(C++17)

Sequence

array(C++11)

vector

vector<bool>

inplace_vector(C++26)

hive(C++26)

deque

forward_list(C++11)

list

Associative

set

multiset

map

multimap

Unordered associative

unordered_set(C++11)

unordered_multiset(C++11)

unordered_map(C++11)

unordered_multimap(C++11)

Adaptors

stack

queue

priority_queue

flat_set(C++23)

flat_multiset(C++23)

flat_map(C++23)

flat_multimap(C++23)

Views

span(C++20)

mdspan(C++23)

Tables

Iterator invalidation

Member function table

Non-member function table

[edit] std::flat_multiset

Member types

Member functions





flat_multiset::flat_multiset 

flat_multiset::operator=

Iterators

flat_multiset::beginflat_multiset::cbegin

flat_multiset::endflat_multiset::cend

flat_multiset::rbeginflat_multiset::crbegin

flat_multiset::rendflat_multiset::crend

Capacity

flat_multiset::size

flat_multiset::max_size

flat_multiset::empty

Observers

flat_multiset::key_comp

flat_multiset::value_comp



Modifiers

flat_multiset::clear

flat_multiset::insert

flat_multiset::insert_range

flat_multiset::emplace

flat_multiset::emplace_hint

flat_multiset::erase

flat_multiset::swap

flat_multiset::extract

flat_multiset::replace

Lookup

flat_multiset::count

flat_multiset::find

flat_multiset::contains

flat_multiset::equal_range

flat_multiset::lower_bound

flat_multiset::upper_bound





Non-member functions





swap(std::flat_multiset)

erase_if(std::flat_multiset)  



operator==operator<=>





Helper classes



uses_allocator<std::flat_multiset>



Tags





sorted_equivalent       



sorted_equivalent_t





Deduction guides

[edit] 





 Defined in header <flat_set>











 template<

    class Key,

    class Compare = std::less<Key>,

    class KeyContainer = std::vector<Key>



> class flat_multiset;

 

 (since C++23) 







The flat multiset is a container adaptor that gives the functionality of an associative container that stores a sorted set of objects of type Key. Unlike std::flat_set, multiple keys with equivalent values are allowed. Sorting is done using the key comparison function Compare.

The class template flat_multiset acts as a wrapper to the underlying sorted container passed as object of type KeyContainer.

Everywhere the standard library uses the Compare requirements, uniqueness is determined by using the equivalence relation. Informally, two objects a and b are considered equivalent if neither compares less than the other: !comp(a, b) && !comp(b, a).



std::flat_multiset meets the requirements of Container, ReversibleContainer, optional container requirements, and all requirements of AssociativeContainer (including logarithmic search complexity), except that:



 requirements related to nodes are not applicable,

 iterator invalidation requirements differ, 

 the complexity of insertion and erasure operations is linear.



A flat multiset supports most AssociativeContainer's operations that use equal keys.







All member functions of std::flat_multiset are constexpr: it is possible to create and use std::flat_multiset objects in the evaluation of a constant expression.However, std::flat_multiset objects generally cannot be constexpr, because any dynamically allocated storage must be released in the same evaluation of constant expression.



(since C++26)



Contents



1 Iterator invalidation

2 Template parameters

3 Member types

4 Member objects

5 Member functions



5.1 Iterators

5.2 Capacity

5.3 Modifiers

5.4 Lookup

5.5 Observers





6 Non-member functions

7 Helper classes

8 Tags

9 Deduction guides

10 Notes

11 Example

12 See also





[edit] Iterator invalidation

This section is incomplete 

[edit] Template parameters





 Key



 -



 The type of the stored elements. The program is ill-formed if Key is not the same type as KeyContainer::value_type.





 Compare



 -



 A Compare type providing a strict weak ordering.





 KeyContainer



 -



 The type of the underlying SequenceContainer to store the elements. The iterators of such container should satisfy LegacyRandomAccessIterator or model random_access_iterator.

The standard containers std::vector and std::deque satisfy these requirements.





[edit] Member types





 Type



 Definition





 container_type



 KeyContainer[edit]





 key_type



 Key[edit]





 value_type



 Key[edit]





 key_compare



 Compare[edit]





 value_compare



 Compare[edit]





 reference



 value_type&[edit]





 const_reference



 const value_type&[edit]





 size_type



 typename KeyContainer::size_type[edit]





 difference_type



 typename KeyContainer::difference_type[edit]





 iterator



 implementation-defined LegacyRandomAccessIterator, ConstexprIterator(since C++26) and random_access_iterator to value_type[edit]





 const_iterator



 implementation-defined LegacyRandomAccessIterator, ConstexprIterator(since C++26) and random_access_iterator to const value_type[edit]





 reverse_iterator



 std::reverse_iterator<iterator>[edit]





 const_reverse_iterator



 std::reverse_iterator<const_iterator>[edit]





[edit] Member objects





 Member



 Description





 container_type c (private)



 the adapted container(exposition-only member object*)





 key_compare compare (private)



 the comparison function object(exposition-only member object*)





[edit] Member functions





  (constructor)



  constructs the flat_multiset  (public member function) [edit]





 (destructor)(implicitly declared)



  destroys every element of the container adaptor  (public member function)





  operator=



  assigns values to the container adaptor  (public member function) [edit]





   Iterators 





  begincbegin



  returns an iterator to the beginning  (public member function) [edit]





  endcend



  returns an iterator to the end  (public member function) [edit]





  rbegincrbegin



  returns a reverse iterator to the beginning  (public member function) [edit]





  rendcrend



  returns a reverse iterator to the end  (public member function) [edit]





   Capacity 





  empty



  checks whether the container adaptor is empty  (public member function) [edit]





  size



  returns the number of elements  (public member function) [edit]





  max_size



  returns the maximum possible number of elements  (public member function) [edit]





   Modifiers 





  emplace



  constructs element in-place   (public member function) [edit]





  emplace_hint



  constructs elements in-place using a hint  (public member function) [edit]





  insert



  inserts elements   (public member function) [edit]





  insert_range



  inserts a range of elements  (public member function) [edit]





  extract



  extracts the underlying container  (public member function) [edit]





  replace



  replaces the underlying container  (public member function) [edit]





  erase



  erases elements  (public member function) [edit]





  swap



  swaps the contents  (public member function) [edit]





  clear



  clears the contents  (public member function) [edit]





   Lookup 





  find



  finds element with specific key  (public member function) [edit]





  count



  returns the number of elements matching specific key  (public member function) [edit]





  contains



  checks if the container contains element with specific key  (public member function) [edit]





  lower_bound



  returns an iterator to the first element not less than the given key  (public member function) [edit]





  upper_bound



  returns an iterator to the first element greater than the given key  (public member function) [edit]





  equal_range



  returns range of elements matching a specific key  (public member function) [edit]





   Observers 





  key_comp



  returns the function that compares keys  (public member function) [edit]





  value_comp



  returns the function that compares keys in objects of type value_type  (public member function) [edit]





[edit] Non-member functions





  operator==operator<=>(C++23)



  lexicographically compares the values of two flat_multisets  (function template) [edit]





  std::swap(std::flat_multiset)(C++23)



  specializes the std::swap algorithm  (function template) [edit]





  erase_if(std::flat_multiset)(C++23)



  erases all elements satisfying specific criteria  (function template) [edit]





[edit] Helper classes





  std::uses_allocator<std::flat_multiset>(C++23)



  specializes the std::uses_allocator type trait  (class template specialization) [edit]





[edit] Tags





  sorted_equivalentsorted_equivalent_t(C++23)



 indicates that elements of a range are sorted (uniqueness is not required)(tag)[edit]





[edit] Deduction guides

[edit] Notes

The member types iterator and const_iterator may be aliases to the same type. This means defining a pair of function overloads using the two types as parameter types may violate the One Definition Rule. Since iterator is convertible to const_iterator, a single function with a const_iterator as parameter type will work instead.







Feature-test macro



Value



Std



Feature





__cpp_lib_flat_set

202207L

(C++23)

std::flat_set and std::flat_multiset





__cpp_lib_constexpr_flat_set

202502L

(C++26)

constexpr std::flat_multiset



[edit] Example

This section is incompleteReason: no example 

[edit] See also





  flat_set(C++23)



  adapts a container to provide a collection of unique keys, sorted by keys  (class template) [edit]





  multiset



  collection of keys, sorted by keys  (class template) [edit]





  unordered_multiset(C++11)



  collection of keys, hashed by keys  (class template) [edit]









 





                    