std::wstring_convert[edit] Text processing library

Localization library

Regular expressions library (C++11)

Formatting library (C++20)

Null-terminated sequence utilities

Byte strings

Multibyte strings

Wide strings

Primitive numeric conversions



to_chars(C++17)

to_chars_result(C++17)

from_chars(C++17)

from_chars_result(C++17)

chars_format(C++17)



Text encoding identifications



text_encoding(C++26)



[edit] Localization library



Locales and facets  

Locales

has_facet

use_facet

locale

Facet categorybase classes

ctype_base

codecvt_base

messages_base

time_base

money_base

ctype facets

ctype

ctype<char>

ctype_byname

codecvt

codecvt_byname

numeric facets

num_get

num_put

numpunct

numpunct_byname

collate facets

collate

collate_byname

time facets

time_get

time_put

time_get_byname

time_put_byname



monetary facets

money_get

money_put

moneypunct

moneypunct_byname

messages facets

messages

messages_byname

Character classification and conversion

Character classification





isspace  

iscntrl

isupper



islower  

isalpha

ispunct



isdigit  

isxdigit

isalnum



isblank(C++11)

isprint

isgraph





Character conversions





toupper  



tolower





String and stream conversions

wstring_convert(C++11/17/26*)

wbuffer_convert(C++11/17/26*)

Unicode conversion facets

codecvt_utf8(C++11/17/26*)

codecvt_utf16(C++11/17/26*)

codecvt_utf8_utf16(C++11/17/26*)

codecvt_mode(C++11/17/26*)

C library locales





LC_ALLLC_COLLATELC_CTYPELC_MONETARYLC_NUMERICLC_TIME  



setlocale

localeconv

lconv



















[edit] std::wstring_convert

Member functions

wstring_convert::wstring_convert

wstring_convert::~wstring_convert

wstring_convert::from_bytes

wstring_convert::to_bytes

wstring_convert::converted

wstring_convert::state

[edit] 





 ~wstring_convert();

 

 







Destroys the wstring_convert object and deletes cvtptr ﻿.



[edit] Notes

Some implementations are able to delete any facet, including the locale-specific facets with protected destructors. Other implementations require the facet to have a public destructor, similar to the locale-independent facets from <codecvt>.



[edit] Example

Run this code

#include <codecvt>

#include <locale>

#include <utility>

 

// utility wrapper to adapt locale-bound facets for wstring/wbuffer convert

template<class Facet>

struct deletable_facet : Facet

{

    template<class... Args>

    deletable_facet(Args&&... args) : Facet(std::forward<Args>(args)...) {}

    ~deletable_facet() {}

};

 

int main()

{

    // GB18030 / UCS4 conversion, using locale-based facet directly

    // typedef std::codecvt_byname<char32_t, char, std::mbstate_t> gbfacet_t;

    // Compiler error: "calling a protected destructor of

    //                  codecvt_byname<> in ~wstring_convert"

    // std::wstring_convert<gbfacet_t> gbto32(new gbfacet_t("zh_CN.gb18030"));

 

    // GB18030 / UCS4 conversion facet using a facet with public destructor

    typedef deletable_facet<std::codecvt_byname<char32_t, char, std::mbstate_t>> gbfacet_t;

    std::wstring_convert<gbfacet_t> gbto32(new gbfacet_t("zh_CN.gb18030"));

} // destructor called here







 





                    