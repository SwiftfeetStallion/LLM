std::messages[edit] Text processing library

Localization library

Regular expressions library (C++11)

Formatting library (C++20)

Null-terminated sequence utilities

Byte strings

Multibyte strings

Wide strings

Primitive numeric conversions



to_chars(C++17)

to_chars_result(C++17)

from_chars(C++17)

from_chars_result(C++17)

chars_format(C++17)



Text encoding identifications



text_encoding(C++26)



[edit] Localization library



Locales and facets  

Locales

has_facet

use_facet

locale

Facet categorybase classes

ctype_base

codecvt_base

messages_base

time_base

money_base

ctype facets

ctype

ctype<char>

ctype_byname

codecvt

codecvt_byname

numeric facets

num_get

num_put

numpunct

numpunct_byname

collate facets

collate

collate_byname

time facets

time_get

time_put

time_get_byname

time_put_byname



monetary facets

money_get

money_put

moneypunct

moneypunct_byname

messages facets

messages

messages_byname

Character classification and conversion

Character classification





isspace  

iscntrl

isupper



islower  

isalpha

ispunct



isdigit  

isxdigit

isalnum



isblank(C++11)

isprint

isgraph





Character conversions





toupper  



tolower





String and stream conversions

wstring_convert(C++11/17/26*)

wbuffer_convert(C++11/17/26*)

Unicode conversion facets

codecvt_utf8(C++11/17/26*)

codecvt_utf16(C++11/17/26*)

codecvt_utf8_utf16(C++11/17/26*)

codecvt_mode(C++11/17/26*)

C library locales





LC_ALLLC_COLLATELC_CTYPELC_MONETARYLC_NUMERICLC_TIME  



setlocale

localeconv

lconv



















[edit] std::messages

Member functions

messages::messages

messages::~messages

messages::openmessages::do_open

messages::getmessages::do_get

messages::closemessages::do_close

[edit] 





 Defined in header <locale>











 public:

string_type get( catalog cat, int set, int msgid, const string_type& dfault ) const;

 (1) 

 





 protected:

virtual string_type do_get( catalog cat, int set, int msgid, const string_type& dfault ) const;

 (2) 

 







1) Public member function, calls the protected virtual member function do_get of the most derived class.

2) Obtains a message from the open message catalog cat using the values set, msgid and dfault in implementation-defined manner. If the expected message is not found in the catalog, returns a copy of dfault.

Contents



1 Parameters

2 Return value

3 Notes

4 Example

5 See also





[edit] Parameters





 cat



 -



 identifier of message catalog obtained from open() and not yet passed to close()





 set



 -



 implementation-defined argument, message set in POSIX





 msgid



 -



 implementation-defined argument, message id in POSIX





 dfault



 -



 the string to look up in the catalog (if the catalog uses string look-up) and also the string to return in case of a failure



[edit] Return value

The message from the catalog or a copy of dfault if none was found.



[edit] Notes

On POSIX systems, this function call usually translates to a call to catgets(), and the parameters set, msgid, and dfault are passed to catgets() as-is. In GNU libstdc++, this function ignores set and msgid and simply calls GNU gettext(dfault) in the required locale.



[edit] Example

The following example demonstrated retrieval of messages: on a typical GNU/Linux system it reads from /usr/share/locale/de/LC_MESSAGES/sed.mo.Run this code

#include <iostream>

#include <locale>

 

int main()

{

    std::locale loc("de_DE.utf8");

    std::cout.imbue(loc);

    auto& facet = std::use_facet<std::messages<char>>(loc);

    auto cat = facet.open("sed", loc);

    if (cat < 0)

        std::cout << "Could not open german \"sed\" message catalog\n";

    else

        std::cout << "\"No match\" in German: "

                  << facet.get(cat, 0, 0, "No match") << '\n'

                  << "\"Memory exhausted\" in German: "

                  << facet.get(cat, 0, 0, "Memory exhausted") << '\n';

    facet.close(cat);

}

Possible output:



"No match" in German: Keine Übereinstimmung

"Memory exhausted" in German: Speicher erschöpft



[edit] See also









 





                    