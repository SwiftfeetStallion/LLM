std::wbuffer_convert[edit]Â Text processing library

Localization library

Regular expressions library (C++11)

Formatting library (C++20)

Null-terminated sequence utilities

Byte strings

Multibyte strings

Wide strings

Primitive numeric conversions



to_chars(C++17)

to_chars_result(C++17)

from_chars(C++17)

from_chars_result(C++17)

chars_format(C++17)



Text encoding identifications



text_encoding(C++26)



[edit]Â Localization library



Locales and facetsÂ Â 

Locales

has_facet

use_facet

locale

Facet categorybase classes

ctype_base

codecvt_base

messages_base

time_base

money_base

ctype facets

ctype

ctype<char>

ctype_byname

codecvt

codecvt_byname

numeric facets

num_get

num_put

numpunct

numpunct_byname

collate facets

collate

collate_byname

time facets

time_get

time_put

time_get_byname

time_put_byname



monetary facets

money_get

money_put

moneypunct

moneypunct_byname

messages facets

messages

messages_byname

Character classification and conversion

Character classification





isspaceÂ Â 

iscntrl

isupper



islowerÂ Â 

isalpha

ispunct



isdigitÂ Â 

isxdigit

isalnum



isblank(C++11)

isprint

isgraph





Character conversions





toupperÂ Â 



tolower





String and stream conversions

wstring_convert(C++11/17/26*)

wbuffer_convert(C++11/17/26*)

Unicode conversion facets

codecvt_utf8(C++11/17/26*)

codecvt_utf16(C++11/17/26*)

codecvt_utf8_utf16(C++11/17/26*)

codecvt_mode(C++11/17/26*)

C library locales





LC_ALLLC_COLLATELC_CTYPELC_MONETARYLC_NUMERICLC_TIMEÂ Â 



setlocale

localeconv

lconv



















[edit]Â std::wbuffer_convert

Member functions

wbuffer_convert::wbuffer_convert

wbuffer_convert::~wbuffer_convert

wbuffer_convert::rdbuf

wbuffer_convert::state

[edit]Â 





 std::streambuf* rdbuf() const;

 (1) 

 





 std::streambuf* rdbuf( std::streambuf* bytebuf );

 (2) 

 







1) Returns the pointer to the underlying byte stream.

2) Replaces the associated byte stream with bytebuf.

[edit] Return value

1) bufptr

2) the previous value of bufptr

[edit] Example

Run this code

#include <codecvt>

#include <iostream>

#include <locale>

#include <sstream>

Â 

int main()

{

    // Convert UTF-8 to UCS4

    std::stringbuf utf8buf("z\u00df\u6c34\U0001d10b");

                       // or "\x7a\xc3\x9f\xe6\xb0\xb4\xf0\x9d\x84\x8b"

                       // or u8"zÃŸæ°´ğ„‹"

    std::wbuffer_convert<std::codecvt_utf8<wchar_t>> conv(&utf8buf);

    std::wistream ucsbuf(&conv);

    std::cout << "Reading from a UTF-8 stringbuf via wbuffer_convert: "

              << std::hex << std::showbase;

    for (wchar_t c; ucsbuf.get(c);)

        std::cout << static_cast<std::wint_t>(c) << ' ';

Â 

    // Reuse the same wbuffer_convert to handle UCS4 to UTF-8 output

    conv.rdbuf(std::cout.rdbuf());

    std::wostream out(&conv);

    std::cout << "\nSending UCS4 data to std::cout via wbuffer_convert: ";

    out << L"z\u00df\u6c34\U0001d10b\n";

}

Output:



Reading from a UTF-8 stringbuf via wbuffer_convert: 0x7a 0xdf 0x6c34 0x1d10b 

Sending UCS4 data to std::cout via wbuffer_convert: zÃŸæ°´ğ„‹



[edit] See also





  (constructor)



  constructs a new wbuffer_convert  (public member function) [edit]









 





                    