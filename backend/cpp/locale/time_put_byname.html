std::time_put_byname









From cppreference.com





[edit] Text processing library

Localization library

Regular expressions library (C++11)

Formatting library (C++20)

Null-terminated sequence utilities

Byte strings

Multibyte strings

Wide strings

Primitive numeric conversions



to_chars(C++17)

to_chars_result(C++17)

from_chars(C++17)

from_chars_result(C++17)

chars_format(C++17)



Text encoding identifications



text_encoding(C++26)



[edit] Localization library



Locales and facets  

Locales

has_facet

use_facet

locale

Facet categorybase classes

ctype_base

codecvt_base

messages_base

time_base

money_base

ctype facets

ctype

ctype<char>

ctype_byname

codecvt

codecvt_byname

numeric facets

num_get

num_put

numpunct

numpunct_byname

collate facets

collate

collate_byname

time facets

time_get

time_put

time_get_byname

time_put_byname



monetary facets

money_get

money_put

moneypunct

moneypunct_byname

messages facets

messages

messages_byname

Character classification and conversion

Character classification





isspace  

iscntrl

isupper



islower  

isalpha

ispunct



isdigit  

isxdigit

isalnum



isblank(C++11)

isprint

isgraph





Character conversions





toupper  



tolower





String and stream conversions

wstring_convert(C++11/17/26*)

wbuffer_convert(C++11/17/26*)

Unicode conversion facets

codecvt_utf8(C++11/17/26*)

codecvt_utf16(C++11/17/26*)

codecvt_utf8_utf16(C++11/17/26*)

codecvt_mode(C++11/17/26*)

C library locales





LC_ALLLC_COLLATELC_CTYPELC_MONETARYLC_NUMERICLC_TIME  



setlocale

localeconv

lconv



















[edit] 





 Defined in header <locale>











 template<

    class CharT,

    class OutputIt = std::ostreambuf_iterator<CharT>



> class time_put_byname : public std::time_put<CharT, OutputIt>

 

 







std::time_put_byname is a std::time_put facet which encapsulates time and date formatting rules of the locale specified at its construction.



Contents



1 Specializations

2 Nested types

3 Member functions

4 std::time_put_byname::time_put_byname



4.1 Parameters





5 std::time_put_byname::~time_put_byname

6 Inherited from std::time_put



6.1 Data members

6.2 Member functions

6.3 Protected member functions

6.4 Example

6.5 See also









[edit] Specializations

The standard library is guaranteed to provide every specialization that satisfies the following type requirements:



 CharT is one of char and wchar_t, and

 OutputIt must meet the requirements of LegacyOutputIterator.



[edit] Nested types





 Type



 Definition





 char_type



 CharT





 iter_type



 OutputIt





[edit] Member functions





  (constructor)



  constructs a new time_put_byname facet  (public member function) [edit]





  (destructor)



  destroys a time_put_byname facet  (protected member function) [edit]







[edit]

 std::time_put_byname::time_put_byname





 explicit time_put_byname( const char* name, std::size_t refs = 0 );

 

 





 explicit time_put_byname( const std::string& name, std::size_t refs = 0 );

 

 (since C++11) 







Constructs a new std::time_put_byname facet for a locale with name. 

refs is used for resource management: if refs == 0, the implementation destroys the facet, when the last std::locale object holding it is destroyed. Otherwise, the object is not destroyed.



 Parameters





 name



 -



 the name of the locale





 refs



 -



 the number of references that link to the facet







[edit]

  std::time_put_byname::~time_put_byname 





 protected:

~time_put_byname();

 

 







Destroys the facet.







 Inherited from std::time_put

[edit] Data members





 Member



 Description





 std::locale::id id [static]



 the identifier of the facet





 Member functions





  put



  invokes do_put  (public member function of std::time_put<CharT,OutputIt>) [edit]





 Protected member functions





  do_put[virtual]



  formats date/time and writes to output stream  (virtual protected member function of std::time_put<CharT,OutputIt>) [edit]







[edit] Example

Prints current time using the "C" locale with the time_put facet replaced by various std::time_put_byname facets. The result shown was obtained using the clang compiler.Run this code

#include <codecvt>

#include <ctime>

#include <iomanip>

#include <iostream>

 

int main()

{

    std::time_t t = std::time(nullptr);

    std::wbuffer_convert<std::codecvt_utf8<wchar_t>> conv(std::cout.rdbuf());

    std::wostream out(&conv);

 

    out.imbue(std::locale(out.getloc(),

                          new std::time_put_byname<wchar_t>("ja_JP.utf8")));

    out << std::put_time(std::localtime(&t), L"%A %c") << '\n';

 

    out.imbue(std::locale(out.getloc(),

                          new std::time_put_byname<wchar_t>("ru_RU.utf8")));

    out << std::put_time(std::localtime(&t), L"%A %c") << '\n';

 

    out.imbue(std::locale(out.getloc(),

                          new std::time_put_byname<wchar_t>("sv_SE.utf8")));

    out << std::put_time(std::localtime(&t), L"%A %c") << '\n';

}

Possible output:



木曜日 2023年10月05日 19時44分51秒

Четверг Чт 05 окт 2023 19:44:51

torsdag tor  5 okt 2023 19:44:51



[edit] See also





  time_put



  formats contents of std::tm for output as character sequence  (class template) [edit]









 





                    