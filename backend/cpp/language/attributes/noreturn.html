C++ attribute: noreturn (since C++11)









From cppreference.com





[edit] C++ language



General topics



Preprocessor

Comments



Keywords

Escape sequences



Flow control

Conditional execution statements



if



switch



Iteration statements (loops)



for

range-for (C++11)



while

do-while



Jump statements



continue - break



goto - return



Functions

Function declaration

Lambda function expression

inline specifier

Dynamic exception specifications (until C++17*)

noexcept specifier (C++11)

Exceptions



throw-expression

try block







catch handler



Namespaces



Namespace declaration  



Namespace aliases



Types



Fundamental types

Enumeration types

Function types



Class/struct types

Union types







Specifiers



const/volatile

decltype (C++11)

auto (C++11)



constexpr (C++11)

consteval (C++20)

constinit (C++20)



Storage duration specifiers

Initialization



Default-initialization

Value-initialization

Zero-initialization

Copy-initialization

Direct-initialization



Aggregate initialization

List-initialization (C++11)  

Constant initialization

Reference initialization















Expressions



Value categories

Order of evaluation



Operators

Operator precedence



Alternative representations

Literals

Boolean - Integer - Floating-point

Character - String - nullptr (C++11)

User-defined (C++11)

Utilities

Attributes (C++11)

Types

typedef declaration

Type alias declaration (C++11)

Casts



Implicit conversions

static_cast

const_cast



Explicit conversions

dynamic_cast

reinterpret_cast



Memory allocation



new expression



delete expression



Classes



Class declaration

Constructors

this pointer



Access specifiers

friend specifier







Class-specific function properties



Virtual function

override specifier (C++11)  

final specifier (C++11)



explicit (C++11)

static







Special member functions



Default constructor

Copy constructor

Move constructor (C++11)



Copy assignment

Move assignment (C++11)

Destructor



Templates



Class template

Function template



Template specialization

Parameter packs (C++11)



Miscellaneous



Inline assembly



History of C++





[edit] Declarations





Overview

Declaration syntax

decl-specifier-seq

Declarator

Conflicting declarations

Specifiers

typedef

inline

virtual function specifier

explicit function specifier

friend

constexpr(C++11)

consteval(C++20)

constinit(C++20)

Storage class specifiers

Translation-unit-local (C++20)

class/struct

union

enum

decltype(C++11)

auto(C++11)

alignas(C++11)

constvolatile

Pack indexing specifier (C++26)    

Elaborated type specifier

Attributes (C++11)



Declarators

Reference

Pointer

Array

Block declarations

Simple-declaration

  →Structured binding declaration (C++17)

Alias declaration (C++11)

Namespace alias definition

using declaration

using directive

static_assert declaration (C++11)

asm declaration

Opaque enum declaration (C++11)

Other declarations

Namespace definition

Function declaration

Class template declaration

Function template declaration

Explicit template instantiation (C++11)

Explicit template specialization

Linkage specification

Attribute declaration (C++11)

Empty declaration









[edit] Attributes

assume(C++23)

carries_dependency(C++11)(until C++26)

deprecated(C++14)

fallthrough(C++17)

indeterminate(C++26)

likely(C++20)

maybe_unused(C++17)

nodiscard(C++17)

noreturn(C++11)

no_unique_address(C++20)

optimize_for_synchronized(TM TS)

unlikely(C++20)

[edit] 

Indicates that the function does not return.



Contents



1 Syntax

2 Explanation

3 Example

4 Standard library



4.1 Terminating functions

4.2 Compiler hints

4.3 Always-throwing functions

4.4 Non-local jumps (since C++17)





5 Defect reports

6 References

7 See also





[edit] Syntax











 [[noreturn]]

















[edit] Explanation

Indicates that the function will not return control flow to the calling function after it finishes (e.g. functions that terminate the application, throw exceptions, loop indefinitely, etc.). This attribute applies to the name of the function being declared in function declarations only.

If a function previously declared with [[noreturn]] is invoked and that invocation eventually returns, the behavior is runtime-undefined.

The first declaration of the function must specify this attribute if any declaration specifies it. If a function is declared with [[noreturn]] in one translation unit, and the same function is declared without [[noreturn]] in another translation unit, the program is ill-formed; no diagnostic required.



[edit] Example

Run this code

[[noreturn]] void f()

{

    throw "error";

    // OK

}

 

void q [[noreturn]] (int i)

{

    // behavior is undefined if called with an argument <= 0

    if (i > 0)

        throw "positive";

}

 

// void h() [[noreturn]]; // error: attribute applied to function type of h, not h itself

 

int main()

{

    try { f(); } catch(...) {}

    try { q(42); } catch(...) {}

}



[edit] Standard library

The following standard functions are declared with noreturn attribute:







   Terminating functions 





  _Exit(C++11)



  causes normal program termination without cleaning up  (function) [edit]





  abort



  causes abnormal program termination (without cleaning up)  (function) [edit]





  exit



  causes normal program termination with cleaning up  (function) [edit]





  quick_exit(C++11)



  causes quick program termination without completely cleaning up  (function) [edit]





  terminate



  function called when exception handling fails  (function) [edit]





  unexpected(deprecated in C++11)(removed in C++17)



  function called when dynamic exception specification is violated  (function) [edit]





   Compiler hints 





  unreachable(C++23)



  marks unreachable point of execution  (function) [edit]





   Always-throwing functions 





  rethrow_exception(C++11)



  throws the exception from an std::exception_ptr  (function) [edit]





  rethrow_nested



  throws the stored exception  (public member function of std::nested_exception)





  throw_with_nested(C++11)



  throws its argument with std::nested_exception mixed in  (function template) [edit]





   Non-local jumps (since C++17) 





  longjmp



  jumps to specified location  (function) [edit]





[edit] Defect reports

The following behavior-changing defect reports were applied retroactively to previously published C++ standards.







DR



Applied to



Behavior as published



Correct behavior





CWG 2924



C++11



returning from a [[noreturn]] functionwould result in undefined behavior



results in runtime-undefined behavior



[edit] References



 C++23 standard (ISO/IEC 14882:2024): 



 9.12.10 Noreturn attribute [dcl.attr.noreturn] 









 C++20 standard (ISO/IEC 14882:2020): 



 9.12.9 Noreturn attribute [dcl.attr.noreturn] 









 C++17 standard (ISO/IEC 14882:2017): 



 10.6.8 Noreturn attribute [dcl.attr.noreturn] 









 C++14 standard (ISO/IEC 14882:2014): 



 7.6.3 Noreturn attribute [dcl.attr.noreturn] 









 C++11 standard (ISO/IEC 14882:2011): 



 7.6.3 Noreturn attribute [dcl.attr.noreturn] 







[edit] See also





 C documentation for _Noreturn





 C documentation for [[noreturn]]









 





                    