alignof operator (since C++11)









From cppreference.com





[edit] C++ language



General topics



Preprocessor

Comments



Keywords

Escape sequences



Flow control

Conditional execution statements



if



switch



Iteration statements (loops)



for

range-for (C++11)



while

do-while



Jump statements



continue - break



goto - return



Functions

Function declaration

Lambda function expression

inline specifier

Dynamic exception specifications (until C++17*)

noexcept specifier (C++11)

Exceptions



throw-expression

try block







catch handler



Namespaces



Namespace declaration  



Namespace aliases



Types



Fundamental types

Enumeration types

Function types



Class/struct types

Union types







Specifiers



const/volatile

decltype (C++11)

auto (C++11)



constexpr (C++11)

consteval (C++20)

constinit (C++20)



Storage duration specifiers

Initialization



Default-initialization

Value-initialization

Zero-initialization

Copy-initialization

Direct-initialization



Aggregate initialization

List-initialization (C++11)  

Constant initialization

Reference initialization















Expressions



Value categories

Order of evaluation



Operators

Operator precedence



Alternative representations

Literals

Boolean - Integer - Floating-point

Character - String - nullptr (C++11)

User-defined (C++11)

Utilities

Attributes (C++11)

Types

typedef declaration

Type alias declaration (C++11)

Casts



Implicit conversions

static_cast

const_cast



Explicit conversions

dynamic_cast

reinterpret_cast



Memory allocation



new expression



delete expression



Classes



Class declaration

Constructors

this pointer



Access specifiers

friend specifier







Class-specific function properties



Virtual function

override specifier (C++11)  

final specifier (C++11)



explicit (C++11)

static







Special member functions



Default constructor

Copy constructor

Move constructor (C++11)



Copy assignment

Move assignment (C++11)

Destructor



Templates



Class template

Function template



Template specialization

Parameter packs (C++11)



Miscellaneous



Inline assembly



History of C++





[edit]  Expressions

General



Value categories

Order of evaluation

Constant expressions

Primary expressions



Lambda expressions (C++11)

Requires expressions (C++20)

Pack indexing expression (C++26)

Potentially-evaluated expressions



Literals



Integer literals

Floating-point literals

Boolean literals

Character literals



Escape sequences

String literals

Null pointer literal (C++11)

User-defined literal (C++11)



Operators



Assignment operators

Increment and decrement

Arithmetic operators

Logical operators

Comparison operators

Member access operators

Other operators

new-expression

delete-expression

throw-expression



alignof

sizeof

sizeof... (C++11)

typeid

noexcept (C++11)

Fold expressions (C++17)

Alternative representations of operators

Precedence and associativity

Operator overloading

Default comparisons (C++20)



Conversions



Implicit conversions

Explicit conversions

Usual arithmetic conversions    

User-defined conversion



const_cast

static_cast

dynamic_cast

reinterpret_cast



[edit] 

Queries alignment requirements of a type.



Contents



1 Syntax

2 Explanation

3 Notes

4 Keywords

5 Example

6 Defect reports

7 References

8 See also





[edit] Syntax











 alignof( type-id )

















Returns a value of type std::size_t.



[edit] Explanation

Returns the alignment, in bytes, required for any instance of the type indicated by type-id, which is either complete object type, an array type whose element type is complete, or a reference type to one of those types.

If the type is reference type, the operator returns the alignment of referenced type; if the type is array type, alignment requirement of the element type is returned.



[edit] Notes

See alignment for the meaning and properties of the value returned by alignof.



[edit] Keywords

alignof



[edit] Example

Run this code

#include <iostream>

 

struct Foo

{

    int   i;

    float f;

    char  c;

};

 

// Note: alignas(alignof(long double)) below can be

// simplified to alignas(long double) if desired.

struct alignas(alignof(long double)) Foo2

{

    // put your definition here

}; 

 

struct Empty {};

 

struct alignas(64) Empty64 {};

 

#define SHOW(expr) std::cout << #expr << " = " << (expr) << '\n'

 

int main()

{

    SHOW(alignof(char));

    SHOW(alignof(int*));

    SHOW(alignof(Foo));

    SHOW(alignof(Foo2));

    SHOW(alignof(Empty));

    SHOW(alignof(Empty64));

}

Possible output:



alignof(char) = 1

alignof(int*) = 8

alignof(Foo) = 4

alignof(Foo2) = 16

alignof(Empty) = 1

alignof(Empty64) = 64



[edit] Defect reports

The following behavior-changing defect reports were applied retroactively to previously published C++ standards.







DR



Applied to



Behavior as published



Correct behavior





CWG 1305



C++11



type-id could not represent a reference to an arraywith an unknown bound but a complete element type



allowed



[edit] References



 C++23 standard (ISO/IEC 14882:2024): 



 7.6.2.6 Alignof [expr.alignof] 









 C++20 standard (ISO/IEC 14882:2020): 



 7.6.2.5 Alignof [expr.alignof] 









 C++17 standard (ISO/IEC 14882:2017): 



 8.3.6 Alignof [expr.alignof] 









 C++14 standard (ISO/IEC 14882:2014): 



 5.3.6 Alignof [expr.alignof] 









 C++11 standard (ISO/IEC 14882:2011): 



 5.3.6 Alignof [expr.alignof] 







[edit] See also





 Alignment requirement



 restricts the addresses at which an object may be allocated





 alignas (C++11)



 specifies that the storage for the variable should be aligned by specific amount(specifier)[edit]





  alignment_of(C++11)



   obtains the type's alignment requirements   (class template) [edit]





 C documentation for _Alignof, alignof operator









 





                    