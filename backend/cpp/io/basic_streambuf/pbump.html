std::basic_streambuf[edit] Input/output library

I/O manipulators

Print functions (C++23)

C-style I/O

Buffers

basic_streambuf

basic_filebuf

basic_stringbuf

basic_spanbuf(C++23)

strstreambuf(C++98/26*)

basic_syncbuf(C++20)

Streams

Abstractions

ios_base

basic_ios

basic_istream

basic_ostream

basic_iostream

File I/O

basic_ifstream

basic_ofstream

basic_fstream

String I/O

basic_istringstream

basic_ostringstream

basic_stringstream

Array I/O

basic_ispanstream(C++23)

basic_ospanstream(C++23)

basic_spanstream(C++23)

istrstream(C++98/26*)

ostrstream(C++98/26*)

strstream(C++98/26*)

Synchronized Output

basic_osyncstream(C++20)

Types

streamoff

streamsize

fpos

Error category interface

iostream_category(C++11)

io_errc(C++11)

[edit] std::basic_streambuf



Public member functions

basic_streambuf::~basic_streambuf    

Locales

basic_streambuf::pubimbue

basic_streambuf::getloc

Positioning

basic_streambuf::pubsetbuf

basic_streambuf::pubseekoff

basic_streambuf::pubseekpos

basic_streambuf::pubsync

Get area

basic_streambuf::in_avail

basic_streambuf::snextc

basic_streambuf::sbumpc

basic_streambuf::sgetc

basic_streambuf::sgetn

Put area

basic_streambuf::sputc

basic_streambuf::sputn

Putback

basic_streambuf::sputbackc

basic_streambuf::sungetc







































Protected member functions

basic_streambuf::basic_streambuf

basic_streambuf::operator=(C++11)

basic_streambuf::swap(C++11)

Locales

basic_streambuf::imbue

Positioning

basic_streambuf::setbuf

basic_streambuf::seekoff

basic_streambuf::seekpos

basic_streambuf::sync

Get area

basic_streambuf::showmanyc

basic_streambuf::underflow

basic_streambuf::uflow

basic_streambuf::xsgetn

basic_streambuf::ebackbasic_streambuf::gptrbasic_streambuf::egptr

basic_streambuf::gbump

basic_streambuf::setg

Put area

basic_streambuf::xsputn

basic_streambuf::overflow

basic_streambuf::pbasebasic_streambuf::pptrbasic_streambuf::epptr

basic_streambuf::pbump

basic_streambuf::setp

Putback

basic_streambuf::pbackfail



[edit] 





 protected:

void pbump( int count );

 

 







Repositions the put pointer (pptr()) by count characters, where count may be positive or negative. No checks are done for moving the pointer outside the put area [pbase(), epptr()).

If the pointer is advanced and then overflow() is called to flush the put area to the associated character sequence, the effect is that extra count characters with undefined values are output.



Contents



1 Parameters

2 Return value

3 Notes

4 Example

5 See also





[edit] Parameters





 count



 -



 number to add to the put pointer



[edit] Return value

(none)



[edit] Notes

Because this function takes an int, it cannot manipulate buffers larger than std::numeric_limits<int>::max() characters (LWG issue 255).



[edit] Example

Run this code

#include <fstream>

#include <iostream>

#include <string>

 

struct showput_streambuf : std::filebuf

{

    using std::filebuf::pbump; // expose protected

    std::string showput() const

    {

        return std::string(pbase(), pptr());

    }

};

 

int main()

{

    showput_streambuf mybuf;

    mybuf.open("test.txt", std::ios_base::out);

    std::ostream str(&mybuf);

    str << "This is a test" << std::flush << "1234";

    std::cout << "The put area contains: " << mybuf.showput() << '\n';

    mybuf.pbump(10);

    std::cout << "after pbump(10), it contains " << mybuf.showput() << '\n';

}

Output:



The put area contains: 1234

after pbump(10), it contains 1234 is a test



[edit] See also





  gbump



  advances the next pointer in the input sequence  (protected member function) [edit]









 





                    