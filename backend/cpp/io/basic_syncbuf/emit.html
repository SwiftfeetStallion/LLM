std::basic_syncbuf[edit] Input/output library

I/O manipulators

Print functions (C++23)

C-style I/O

Buffers

basic_streambuf

basic_filebuf

basic_stringbuf

basic_spanbuf(C++23)

strstreambuf(C++98/26*)

basic_syncbuf(C++20)

Streams

Abstractions

ios_base

basic_ios

basic_istream

basic_ostream

basic_iostream

File I/O

basic_ifstream

basic_ofstream

basic_fstream

String I/O

basic_istringstream

basic_ostringstream

basic_stringstream

Array I/O

basic_ispanstream(C++23)

basic_ospanstream(C++23)

basic_spanstream(C++23)

istrstream(C++98/26*)

ostrstream(C++98/26*)

strstream(C++98/26*)

Synchronized Output

basic_osyncstream(C++20)

Types

streamoff

streamsize

fpos

Error category interface

iostream_category(C++11)

io_errc(C++11)

[edit] std::basic_syncbuf

Public member functions

basic_syncbuf::basic_syncbuf(C++20)

basic_syncbuf::operator=(C++20)

basic_syncbuf::~basic_syncbuf(C++20)

basic_syncbuf::swap(C++20)

basic_syncbuf::emit(C++20)

basic_syncbuf::get_wrapped(C++20)

basic_syncbuf::get_allocator(C++20)

basic_syncbuf::set_emit_on_sync(C++20)

Protected member functions

basic_syncbuf::sync(C++20)

Non-member functions

swap(std::basic_syncbuf)(C++20)

[edit] 





 bool emit();

 

 







Atomically transmits all pending output to the wrapped stream.

All emit() calls transferring characters to the same wrapped stream buffer object appear to execute in a total order, where each emit() call synchronizes-with subsequent emit() calls in that total order, even if these calls are made through difference instances of std::basic_syncbuf/std::basic_osyncstream. In practice, this means that emit() takes a lock uniquely associated with the wrapped stream object: for example, it could be held in a static hash map where the address of the wrapped stream is used as the key.

If a call had been made to sync since the last call to emit(), then also flushes the wrapped stream by calling pubsync() on it.



Contents



1 Parameters

2 Return value

3 Notes

4 Example

5 See also





[edit] Parameters

(none)



[edit] Return value

true if all of the following is true:



 there is a wrapped stream (the wrapped streambuf pointer is not null)

 all characters from the temporary storage were successfully sent into the wrapped stream

 the call to pubsync(), if requested, also completed successfully.



Returns false otherwise.



[edit] Notes

Normally called by the destructor or move assignment of the owning std::basic_osyncstream, or by std::basic_osyncstream::emit.



[edit] Example

This section is incompleteReason: no example 

[edit] See also





  (destructor)



  destroys the basic_osyncstream and emits its internal buffer  (public member function of std::basic_osyncstream<CharT,Traits,Allocator>) [edit]





  emit



  calls emit() on the underlying basic_syncbuf to transmit its internal data to the final destination  (public member function of std::basic_osyncstream<CharT,Traits,Allocator>) [edit]





  (constructor)



  constructs a basic_syncbuf object  (public member function) [edit]









 





                    