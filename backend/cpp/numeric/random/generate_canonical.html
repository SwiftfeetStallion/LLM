std::generate_canonical









From cppreference.com





[edit] Numerics library

Common mathematical functions

Mathematical special functions (C++17)

Mathematical constants (C++20)

Basic linear algebra algorithms (C++26)

Data-parallel types (SIMD) (C++26)

Floating-point environment (C++11)

Complex numbers

Numeric array (valarray)

Pseudo-random number generation

Bit manipulation (C++20)

Saturation arithmetic (C++26)

Factor operations



gcd(C++17)



lcm(C++17)



Interpolations



midpoint(C++20)



lerp(C++20)



Generic numeric operations



iota(C++11)

ranges::iota(C++23)

accumulate

inner_product

adjacent_difference  

partial_sum



reduce(C++17)

transform_reduce(C++17)

inclusive_scan(C++17)

exclusive_scan(C++17)

transform_inclusive_scan(C++17)

transform_exclusive_scan(C++17)



C-style checked integer arithmetic



ckd_add(C++26)

ckd_sub(C++26)



ckd_mul(C++26)







[edit] Pseudo-random number generation



Uniform random bit generators  

uniform_random_bit_generator(C++20)

Random number engines

linear_congruential_engine(C++11)

mersenne_twister_engine(C++11)

subtract_with_carry_engine(C++11)

philox_engine(C++26)

Random number engine adaptors

discard_block_engine(C++11)

independent_bits_engine(C++11)

shuffle_order_engine(C++11)

Predefined random number generators

Non-deterministic random numbers

random_device(C++11)





Utilities

generate_canonical(C++11)

seed_seq(C++11)





Random number algorithms

ranges::generate_random(C++26)





C random library





rand  



srand  



RAND_MAX















Random number distributions

Uniform distributions

uniform_int_distribution(C++11)

uniform_real_distribution(C++11)

generate_canonical(C++11)

Bernoulli distributions

bernoulli_distribution(C++11)

binomial_distribution(C++11)

negative_binomial_distribution(C++11)

geometric_distribution(C++11)

Poisson distributions

poisson_distribution(C++11)

exponential_distribution(C++11)

gamma_distribution(C++11)

weibull_distribution(C++11)

extreme_value_distribution(C++11)

Normal distributions

normal_distribution(C++11)

lognormal_distribution(C++11)

chi_squared_distribution(C++11)

cauchy_distribution(C++11)

fisher_f_distribution(C++11)

student_t_distribution(C++11)

Sampling distributions

discrete_distribution(C++11)

piecewise_constant_distribution(C++11)

piecewise_linear_distribution(C++11)



[edit] 





 Defined in header <random>











 template< class RealType, std::size_t Bits, class Generator >

RealType generate_canonical( Generator& g );

 

 (since C++11) 







Generates a random floating point number in range [​0​, 1). 

To generate enough entropy, generate_canonical() will call g() exactly \(\small k\)k times, where \(\small k = \max(1, \lceil \frac{b}{\log_2 R} \rceil)\)k = max(1, ⌈ b / log2 R ⌉) and



 b = std::min(Bits, std::size_t {std::numeric_limits<RealType>::digits}),

 R = g.max() - g.min() + 1.



Contents



1 Parameters

2 Return value

3 Exceptions

4 Notes

5 Example

6 See also





[edit] Parameters





 g



 -



 generator to use to acquire entropy



[edit] Return value

Floating point value in range [​0​, 1).



[edit] Exceptions

None except from those thrown by g.



[edit] Notes

Some existing implementations have a bug where they may occasionally return 1.0 if RealType is float GCC #63176 LLVM #18767 MSVC STL #1074. This is LWG issue 2524.



[edit] Example

Produce random numbers with 10 bits of randomness: this may produce only k * R distinct values.Run this code

#include <iostream>

#include <random>

 

int main()

{

    std::random_device rd;

    std::mt19937 gen(rd());

    for (int n = 0; n < 10; ++n)

        std::cout << std::generate_canonical<double, 10>(gen) << ' ';

    std::cout << '\n';

}

Possible output:



0.208143 0.824147 0.0278604 0.343183 0.0173263 0.864057 0.647037 0.539467 0.0583497 0.609219



[edit] See also





  uniform_real_distribution(C++11)



  produces real values evenly distributed across a range  (class template) [edit]









 





                    