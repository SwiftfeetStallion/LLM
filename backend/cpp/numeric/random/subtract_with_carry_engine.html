std::subtract_with_carry_engine









From cppreference.com





[edit] Numerics library

Common mathematical functions

Mathematical special functions (C++17)

Mathematical constants (C++20)

Basic linear algebra algorithms (C++26)

Data-parallel types (SIMD) (C++26)

Floating-point environment (C++11)

Complex numbers

Numeric array (valarray)

Pseudo-random number generation

Bit manipulation (C++20)

Saturation arithmetic (C++26)

Factor operations



gcd(C++17)



lcm(C++17)



Interpolations



midpoint(C++20)



lerp(C++20)



Generic numeric operations



iota(C++11)

ranges::iota(C++23)

accumulate

inner_product

adjacent_difference  

partial_sum



reduce(C++17)

transform_reduce(C++17)

inclusive_scan(C++17)

exclusive_scan(C++17)

transform_inclusive_scan(C++17)

transform_exclusive_scan(C++17)



C-style checked integer arithmetic



ckd_add(C++26)

ckd_sub(C++26)



ckd_mul(C++26)







[edit] Pseudo-random number generation



Uniform random bit generators  

uniform_random_bit_generator(C++20)

Random number engines

linear_congruential_engine(C++11)

mersenne_twister_engine(C++11)

subtract_with_carry_engine(C++11)

philox_engine(C++26)

Random number engine adaptors

discard_block_engine(C++11)

independent_bits_engine(C++11)

shuffle_order_engine(C++11)

Predefined random number generators

Non-deterministic random numbers

random_device(C++11)





Utilities

generate_canonical(C++11)

seed_seq(C++11)





Random number algorithms

ranges::generate_random(C++26)





C random library





rand  



srand  



RAND_MAX















Random number distributions

Uniform distributions

uniform_int_distribution(C++11)

uniform_real_distribution(C++11)

generate_canonical(C++11)

Bernoulli distributions

bernoulli_distribution(C++11)

binomial_distribution(C++11)

negative_binomial_distribution(C++11)

geometric_distribution(C++11)

Poisson distributions

poisson_distribution(C++11)

exponential_distribution(C++11)

gamma_distribution(C++11)

weibull_distribution(C++11)

extreme_value_distribution(C++11)

Normal distributions

normal_distribution(C++11)

lognormal_distribution(C++11)

chi_squared_distribution(C++11)

cauchy_distribution(C++11)

fisher_f_distribution(C++11)

student_t_distribution(C++11)

Sampling distributions

discrete_distribution(C++11)

piecewise_constant_distribution(C++11)

piecewise_linear_distribution(C++11)



[edit] std::subtract_with_carry_engine

Member functions

subtract_with_carry_engine::subtract_with_carry_engine

subtract_with_carry_engine::seed

Generation

subtract_with_carry_engine::operator()

subtract_with_carry_engine::discard

Characteristics

subtract_with_carry_engine::min

subtract_with_carry_engine::max

Non-member functions

operator==operator!=(C++11)(C++11)(until C++20)

operator<<operator>>(C++11)(C++11)

[edit] 





 Defined in header <random>











 template<

    class UIntType,

    std::size_t w, std::size_t s, std::size_t r



> class subtract_with_carry_engine;

 

 (since C++11) 







Is a random number engine that uses subtract with carry algorithm.



Contents



1 Template parameters

2 Generator properties

3 Predefined specializations

4 Nested types

5 Data members

6 Member functions



6.1 Construction and Seeding

6.2 Generation

6.3 Characteristics





7 Non-member functions

8 Example

9 Defect reports





[edit] Template parameters





 UIntType



 -



 The result type generated by the generator. The effect is undefined if this is not one of unsigned short, unsigned int, unsigned long, or unsigned long long.





 w



 -



 the word size, in bits, of the state sequence





 s



 -



 the short lag





 r



 -



 the long lag



If w is not in [1, std::numeric_limits<UIntType>::digits], or s is not in [1, r), the program is ill-formed.



[edit] Generator properties

The size of the states of subtract_with_carry_engine is \(\scriptsize O(r)\)O(r), each of them consists of two parts:



 A sequence X of r integer values, where each value is in [​0​, 2w).

 An integer c (known as the carry ﻿), whose value is either ​0​ or 1.



Given that \(\scriptsize X_j\)Xj stands for the \(\scriptsize j\mod r\)j mod rth value (starting from 0) of X, the transition algorithm of subtract_with_carry_engine (\(\scriptsize TA(x_i)\)TA(xi)) is defined as follows:



 Let Y be \(\scriptsize X_{i-s}-X_{i-r}-c\)Xi-s-Xi-r-c.

 Let y be \(\scriptsize Y\mod 2^w\)Y mod 2w, and set \(\scriptsize X_i\)Xi to y.

 If Y is negative, set c to 1, otherwise set c to ​0​.



The generation algorithm of subtract_with_carry_engine is \(\scriptsize GA(x_i) = y\)GA(xi) = y, where y is the value produced in step 2 of the transition algorithm.



[edit] Predefined specializations

The following specializations define the random number engine with two commonly used parameter sets:







 Defined in header <random> 





 Type



 Definition





 ranlux24_base (C++11)



 std::subtract_with_carry_engine<std::uint_fast32_t, 24, 10, 24>[edit]





 ranlux48_base (C++11)



 std::subtract_with_carry_engine<std::uint_fast64_t, 48, 5, 12>[edit]





[edit] Nested types





 Type



 Definition





 result_type



 UIntType





[edit] Data members





 constexpr std::size_t word_size[static]



 w  (public static member constant)





 constexpr std::size_t short_lag[static]



 s  (public static member constant)





 constexpr std::size_t long_lag[static]



 r  (public static member constant)





 constexpr std::uint_least32_t default_seed[static]



 19780503u  (public static member constant)





[edit] Member functions





   Construction and Seeding 





  (constructor)



  constructs the engine  (public member function) [edit]





  seed



  sets the current state of the engine  (public member function) [edit]





   Generation 





  operator()



  advances the engine's state and returns the generated value  (public member function) [edit]





  discard



  advances the engine's state by a specified amount  (public member function) [edit]





   Characteristics 





  min[static]



  gets the smallest possible value in the output range  (public static member function) [edit]





  max[static]



  gets the largest possible value in the output range  (public static member function) [edit]





[edit] Non-member functions





  operator==operator!=(C++11)(C++11)(removed in C++20)



  compares the internal states of two pseudo-random number engines  (function) [edit]











  operator<<operator>>(C++11)



  performs stream input and output on pseudo-random number engine  (function template) [edit]





[edit] Example

This section is incompleteReason: no example 

[edit] Defect reports

The following behavior-changing defect reports were applied retroactively to previously published C++ standards.







DR



Applied to



Behavior as published



Correct behavior





LWG 3809



C++11



default_seed might not berepresentable with result_type



changed its type tostd::uint_least32_t







 





                    