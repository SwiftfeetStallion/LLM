std::valarray[edit] Numerics library

Common mathematical functions

Mathematical special functions (C++17)

Mathematical constants (C++20)

Basic linear algebra algorithms (C++26)

Data-parallel types (SIMD) (C++26)

Floating-point environment (C++11)

Complex numbers

Numeric array (valarray)

Pseudo-random number generation

Bit manipulation (C++20)

Saturation arithmetic (C++26)

Factor operations



gcd(C++17)



lcm(C++17)



Interpolations



midpoint(C++20)



lerp(C++20)



Generic numeric operations



iota(C++11)

ranges::iota(C++23)

accumulate

inner_product

adjacent_difference  

partial_sum



reduce(C++17)

transform_reduce(C++17)

inclusive_scan(C++17)

exclusive_scan(C++17)

transform_inclusive_scan(C++17)

transform_exclusive_scan(C++17)



C-style checked integer arithmetic



ckd_add(C++26)

ckd_sub(C++26)



ckd_mul(C++26)







[edit] std::valarray

Member functions



valarray::valarray

valarray::~valarray

valarray::operator=

valarray::operator[]

valarray::swap

valarray::size

valarray::resize

valarray::sum

valarray::min

valarray::max

valarray::shift

valarray::cshift

valarray::apply







valarray::operator+valarray::operator-valarray::operator~valarray::operator!

valarray::operator+=valarray::operator-=valarray::operator*=valarray::operator/=valarray::operator%=valarray::operator&=valarray::operator|=valarray::operator^=valarray::operator<<=valarray::operator>>=



Non-member functions



swap(std::valarray)(C++11)

begin(std::valarray)(C++11)  

end(std::valarray)(C++11)

abs

exp

log

log10

pow

sqrt

sin

cos

tan

asin

acos

atan

atan2

sinh

cosh

tanh



operator*operator/operator%operator+operator-operator^operator&operator|operator<<operator>>operator&&operator||

operator==operator!=operator<operator>operator<=operator>=







Helper classes



slice_array

gslice_array

indirect_array



slice

gslice

mask_array



Deduction guides (C++17)

[edit] 





 valarray<T> operator+() const;

 (1) 

 





 valarray<T> operator-() const;

 (2) 

 





 valarray<T> operator~() const;

 (3) 

 





 valarray<bool> operator!() const;

 (4) 

 







Applies unary operators to each element in the numeric array.



Contents



1 Parameters

2 Return value

3 Exceptions

4 Notes

5 Example

6 See also





[edit] Parameters

(none)



[edit] Return value

A numeric array containing elements with values obtained by applying corresponding operator to the values in *this.



[edit] Exceptions

May throw implementation-defined exceptions. 



[edit] Notes

Each of the operators can only be instantiated if the following requirements are met:



 The indicated operator can be applied to type T.

 The result value can be unambiguously converted to T (1-3) or bool (4).





The function can be implemented with the return type different from std::valarray. In this case, the replacement type has the following properties:



 All const member functions of std::valarray are provided.

 std::valarray, std::slice_array, std::gslice_array, std::mask_array and std::indirect_array can be constructed from the replacement type.

 For every function taking a const std::valarray<T>& except begin() and end()(since C++11), identical functions taking the replacement types shall be added;

 For every function taking two const std::valarray<T>& arguments, identical functions taking every combination of const std::valarray<T>& and replacement types shall be added.

 The return type does not add more than two levels of template nesting over the most deeply-nested argument type.





[edit] Example

Run this code

#include <iostream>

#include <string_view>

#include <valarray>

 

template<typename T>

void print(std::string_view const note,

           std::valarray<T> const vala, // by-value, see Notes above

           std::string_view const term = "\n")

{

    std::cout << note << std::boolalpha << std::showpos;

    for (T const element : vala)

        std::cout << '\t' << element;

    std::cout << term;

}

 

int main()

{

    std::valarray<int> x{1, 2, 3, 4};

    print<int>("x: ", x);

    print<int>("+x: ", +x);

    print<int>("+ + x: ", + + x);

    print<int>("-x: ", -x);

    print<int>("- - x: ", - - x, "\n\n");

 

    std::valarray<short> y{0, 1, -1, 0x7fff};

    print<short>("y: ", y);

    print<short>("~y: ", ~y);

    print<short>("~~y: ", ~~y, "\n\n");

 

    std::valarray<bool> z{true, false};

    print<bool>("z: ", z);

    print<bool>("!z: ", !z);

    print<bool>("!!z: ", !!z);

}

Possible output:



x:      +1      +2      +3      +4

+x:     +1      +2      +3      +4

+ + x:  +1      +2      +3      +4

-x:     -1      -2      -3      -4

- - x:  +1      +2      +3      +4

 

y:      +0      +1      -1      +32767

~y:     -1      -2      +0      -32768

~~y:    +0      +1      -1      +32767

 

z:      true    false

!z:     false   true

!!z:    true    false



[edit] See also





  operator+=operator-=operator*=operator/=operator%=operator&=operator|=operator^=operator<<=operator>>=



  applies compound assignment operator to each element of the valarray  (public member function) [edit]





  operator+operator-operator*operator/operator%operator&operator|operator^operator<<operator>>operator&&operator||



  applies binary operators to each element of two valarrays, or a valarray and a value  (function template) [edit]









 





                    