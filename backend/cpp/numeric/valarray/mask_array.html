std::mask_array









From cppreference.com





[edit] Numerics library

Common mathematical functions

Mathematical special functions (C++17)

Mathematical constants (C++20)

Basic linear algebra algorithms (C++26)

Data-parallel types (SIMD) (C++26)

Floating-point environment (C++11)

Complex numbers

Numeric array (valarray)

Pseudo-random number generation

Bit manipulation (C++20)

Saturation arithmetic (C++26)

Factor operations



gcd(C++17)



lcm(C++17)



Interpolations



midpoint(C++20)



lerp(C++20)



Generic numeric operations



iota(C++11)

ranges::iota(C++23)

accumulate

inner_product

adjacent_difference  

partial_sum



reduce(C++17)

transform_reduce(C++17)

inclusive_scan(C++17)

exclusive_scan(C++17)

transform_inclusive_scan(C++17)

transform_exclusive_scan(C++17)



C-style checked integer arithmetic



ckd_add(C++26)

ckd_sub(C++26)



ckd_mul(C++26)







[edit] std::valarray

Member functions



valarray::valarray

valarray::~valarray

valarray::operator=

valarray::operator[]

valarray::swap

valarray::size

valarray::resize

valarray::sum

valarray::min

valarray::max

valarray::shift

valarray::cshift

valarray::apply







valarray::operator+valarray::operator-valarray::operator~valarray::operator!

valarray::operator+=valarray::operator-=valarray::operator*=valarray::operator/=valarray::operator%=valarray::operator&=valarray::operator|=valarray::operator^=valarray::operator<<=valarray::operator>>=



Non-member functions



swap(std::valarray)(C++11)

begin(std::valarray)(C++11)  

end(std::valarray)(C++11)

abs

exp

log

log10

pow

sqrt

sin

cos

tan

asin

acos

atan

atan2

sinh

cosh

tanh



operator*operator/operator%operator+operator-operator^operator&operator|operator<<operator>>operator&&operator||

operator==operator!=operator<operator>operator<=operator>=







Helper classes



slice_array

gslice_array

indirect_array



slice

gslice

mask_array



Deduction guides (C++17)

[edit] std::mask_array

 Member functions

mask_array::mask_array

mask_array::~mask_array

mask_array::operator=

mask_array::operator+=mask_array::operator-=mask_array::operator*=mask_array::operator/=mask_array::operator%=mask_array::operator&=mask_array::operator|=mask_array::operator^=mask_array::operator<<=mask_array::operator>>=

[edit] 





 Defined in header <valarray>











 template< class T > class mask_array;

 

 







std::mask_array is a helper template used by the valarray subscript operator with std::valarray<bool> argument. It has reference semantics and provides access to the subset of the valarray consisting of the elements whose indices correspond to true values in the std::valarray<bool> mask.



Contents



1 Member types

2 Member functions

3 Example

4 See also





[edit] Member types





 Type



 Definition





 value_type



 T





[edit] Member functions





  (constructor)



  constructs a mask_array  (public member function) [edit]





  (destructor)



  destroys a mask_array  (public member function) [edit]





  operator=



   assigns contents  (public member function) [edit]





  operator+=operator-=operator*=operator/=operator%=operator&=operator|=operator^=operator<<=operator>>=



   performs arithmetic operation on the array referred by mask.  (public member function) [edit]





[edit] Example

Run this code

#include <iostream>

#include <valarray>

 

void println(auto rem, const auto& data)

{

    for (std::cout << rem; int n : data)

        std::cout << n << ' ';

    std::cout << '\n';

}

 

int main()

{

    std::valarray<int> data{0, 1, 2, 3, 4, 5, 6, 7, 8, 9};

 

    println("Initial valarray: ", data);

 

    data[data > 5] = -1;

    // the type of data>5 is std::valarray<bool>

    // the type of data[data>5] is std::mask_array<int>

 

    println("After v[v>5]=-1:  ", data);

}

Output:



Initial valarray: 0 1 2 3 4 5 6 7 8 9

After v[v>5]=-1:  0 1 2 3 4 5 -1 -1 -1 -1



[edit] See also





  datapar::simd_mask(C++26)



 convenience alias template for basic_simd_mask that can specify its width(alias template)[edit]





  simd_mask(parallelism TS v2)



  data-parallel type with the element type bool  (class template) [edit]









 





                    