std::memmove









From cppreference.com





[edit] Text processing library

Localization library

Regular expressions library (C++11)

Formatting library (C++20)

Null-terminated sequence utilities

Byte strings

Multibyte strings

Wide strings

Primitive numeric conversions



to_chars(C++17)

to_chars_result(C++17)

from_chars(C++17)

from_chars_result(C++17)

chars_format(C++17)



Text encoding identifications



text_encoding(C++26)



[edit] Null-terminated byte strings

Functions

Character classification



isalnum

isalpha

islower

isupper

isdigit

isxdigit



isblank(C++11)

iscntrl

isgraph

isspace

isprint

ispunct



Character manipulation



tolower



toupper



Conversions to numeric formats



atof

atoiatolatoll(C++11)

strtolstrtoll(C++11)  







strtoulstrtoull(C++11)

strtofstrtodstrtold(C++11)(C++11)

strtoimaxstrtouimax(C++11)(C++11)



String manipulation



strcpy

strncpy

strxfrm



strcat

strncat







String examination



strlen

strcmp

strncmp

strcoll

strchr

strrchr



strspn

strcspn

strpbrk

strstr

strtok







Character array functions



memchr

memcmp

memset



memcpy

memmove







Miscellaneous



strerror



[edit] 





 Defined in header <cstring>











 void* memmove( void* dest, const void* src, std::size_t count );

 

 







Performs the following operations in order:



Implicitly creates objects at dest.

 Copies count characters (as if of type unsigned char, the same below) from the object pointed to by src into a temporary array arr of count characters, where arr does not overlap the objects pointed to by dest and src.

 Copies count characters from arr into the object pointed to by dest.



If dest or src is a null pointer or invalid pointer, the behavior is undefined.



Contents



1 Parameters

2 Return value

3 Notes

4 Example

5 Defect reports

6 See also





[edit] Parameters





 dest



 -



 pointer to the memory location to copy to





 src



 -



 pointer to the memory location to copy from





 count



 -



 number of bytes to copy



[edit] Return value

If there is a suitable created object, returns a pointer to it; otherwise returns dest.



[edit] Notes

Despite the specification says a temporary buffer is used, actual implementations of this function do not incur the overhead of double copying or extra memory. For small count, it may load up and write out registers; for larger blocks, a common approach (glibc and bsd libc) is to copy bytes forwards from the beginning of the buffer if the destination starts before the source, and backwards from the end otherwise, with a fall back to std::memcpy when there is no overlap at all.

Where strict aliasing prohibits examining the same memory as values of two different types, std::memmove may be used to convert the values.



[edit] Example

Run this code

#include <cstring>

#include <iostream>

 

int main()

{

    char str[] = "1234567890";

    std::cout << str << '\n';

    std::memmove(str + 4, str + 3, 3); // copies from [4, 5, 6] to [5, 6, 7]

    std::cout << str << '\n';

}

Output:



1234567890

1234456890



[edit] Defect reports

The following behavior-changing defect reports were applied retroactively to previously published C++ standards.







DR



Applied to



Behavior as published



Correct behavior





LWG 4064



C++98



it was unclear whether the returned pointer points to a suitable created object



made clear



[edit] See also





  memcpy



  copies one buffer to another  (function) [edit]





  memset



  fills a buffer with a character  (function) [edit]





  wmemmove



  copies a certain amount of wide characters between two, possibly overlapping, arrays  (function) [edit]





  copycopy_if(C++11)



  copies a range of elements to a new location  (function template) [edit]





  copy_backward



  copies a range of elements in backwards order  (function template) [edit]





  is_trivially_copyable(C++11)



   checks if a type is trivially copyable   (class template) [edit]





 C documentation for memmove









 





                    