std::basic_string[edit] Strings library

Classes

basic_string

basic_string_view(C++17)

char_traits

[edit] std::basic_string



Member functions

basic_string::basic_string

basic_string::~basic_string

basic_string::operator=

basic_string::assign

basic_string::assign_range(C++23)  

basic_string::get_allocator

Element access

basic_string::at

basic_string::operator[]

basic_string::front(DR*)

basic_string::back(DR*)

basic_string::data

basic_string::c_str

basic_string::operator basic_string_view(C++17)

Iterators

basic_string::beginbasic_string::cbegin(C++11)

basic_string::endbasic_string::cend(C++11)

basic_string::rbeginbasic_string::crbegin(C++11)

basic_string::rendbasic_string::crend(C++11)

Search

basic_string::find

basic_string::rfind

basic_string::find_first_of

basic_string::find_first_not_of

basic_string::find_last_of

basic_string::find_last_not_of



Modifiers

basic_string::clear

basic_string::insert

basic_string::insert_range(C++23)

basic_string::erase

basic_string::push_back

basic_string::pop_back(DR*)

basic_string::append

basic_string::append_range(C++23)

basic_string::operator+=

basic_string::replace

basic_string::replace_with_range(C++23)

basic_string::copy

basic_string::resize

basic_string::resize_and_overwrite(C++23) 

basic_string::swap

Capacity

basic_string::empty

basic_string::sizebasic_string::length

basic_string::max_size

basic_string::reserve

basic_string::capacity

basic_string::shrink_to_fit(DR*)

Operations

basic_string::compare

basic_string::starts_with(C++20)

basic_string::ends_with(C++20)

basic_string::contains(C++23)

basic_string::substr



Constants

basic_string::npos

Non-member functions

operator+

swap(std::basic_string)

erase(std::basic_string)erase_if(std::basic_string)(C++20)(C++20)

I/O

operator<<operator>>

getline

Comparison

operator==operator!=operator<operator>operator<=operator>=operator<=>(until C++20)(until C++20)(until C++20)(until C++20)(until C++20)(C++20)

Numeric conversions



stoistolstoll(C++11)(C++11)(C++11)

stoulstoull(C++11)(C++11) 



stofstodstold(C++11)(C++11)(C++11)

to_string(C++11)

to_wstring(C++11)



Literals

operator""s(C++14)

Helper classes

hash<std::basic_string>(C++11)

Deduction guides (C++17)



[edit] 









void swap( basic_string& other );

 

(until C++17)





 void swap( basic_string& other ) noexcept(/* see below */);

 

 (since C++17) (constexpr since C++20) 









Exchanges the contents of the string with those of other. All iterators and references may be invalidated.







If std::allocator_traits<allocator_type>::propagate_on_container_swap::value is true, then the allocators are exchanged using an unqualified call to non-member swap. Otherwise, they are not swapped (and if get_allocator() != other.get_allocator(), the behavior is undefined).





(since C++11)



Contents



1 Parameters

2 Complexity

3 Exceptions

4 Example

5 Defect reports

6 See also





[edit] Parameters





 other



 -



 string to exchange the contents with



[edit] Complexity

Constant.



[edit] Exceptions





No exception is thrown.





(until C++11)



No exception is thrown, unless the behavior is undefined.

If an exception is thrown for any reason, this function has no effect (strong exception safety guarantee).





(since C++11)











noexcept specification:  

noexcept(std::allocator_traits<Allocator>::propagate_on_container_swap::value ||

         std::allocator_traits<Allocator>::is_always_equal::value)



(since C++17)



[edit] Example

Run this code

#include <iostream>

#include <string>

 

int main() 

{

    std::string a = "AAA";

    std::string b = "BBBB";

 

    std::cout << "Before swap:\n"

                 "a = " << a << "\n"

                 "b = " << b << "\n\n";

 

    a.swap(b);

 

    std::cout << "After swap:\n"

                 "a = " << a << "\n"

                 "b = " << b << '\n';

}

Output:



Before swap:

a = AAA

b = BBBB

 

After swap:

a = BBBB

b = AAA



[edit] Defect reports

The following behavior-changing defect reports were applied retroactively to previously published C++ standards.







DR



Applied to



Behavior as published



Correct behavior





LWG 403



C++98



swap() might throw an exception



no exception is thrown





LWG 535



C++98



swapping strings did not preserve the character orders



orders are also preserved





LWG 2151(P1148R0)



C++11



no exception was thrown in the caseof unequal non-propagating allocators



the behavior isundefined in this case



[edit] See also





  swap



  swaps the values of two objects  (function template) [edit]





  swap_ranges



  swaps two ranges of elements  (function template) [edit]





  swap



  swaps the contents  (public member function of std::basic_string_view<CharT,Traits>) [edit]









 





                    