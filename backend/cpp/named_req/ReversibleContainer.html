C++ named requirements: ReversibleContainer









From cppreference.com





[edit] C++ named requirements



Basic

DefaultConstructible

MoveConstructible(C++11)

CopyConstructible

CopyAssignable

MoveAssignable(C++11)

Destructible

Type properties

ScalarType

PODType

TriviallyCopyable(C++11)

TrivialType(C++11)

StandardLayoutType(C++11)  

ImplicitLifetimeType

Library-wide

BooleanTestable

EqualityComparable

LessThanComparable

Swappable

ValueSwappable(C++11)

NullablePointer(C++11)

Hash(C++11)

Allocator

FunctionObject

Callable

Predicate

BinaryPredicate

Compare



















Container

Container

ReversibleContainer

AllocatorAwareContainer

SequenceContainer

ContiguousContainer(C++17)

AssociativeContainer

UnorderedAssociativeContainer(C++11)  

Container element

DefaultInsertable(C++11)

CopyInsertable(C++11)

MoveInsertable(C++11)

EmplaceConstructible(C++11)

Erasable(C++11)

Iterator

LegacyIterator

LegacyInputIterator

LegacyOutputIterator

LegacyForwardIterator

LegacyBidirectionalIterator

LegacyRandomAccessIterator

LegacyContiguousIterator(C++17)

ConstexprIterator(C++20)

Stream I/O

FormattedInputFunction

UnformattedInputFunction

FormattedOutputFunction

UnformattedOutputFunction

Formatters

BasicFormatter(C++20)

Formatter(C++20)



Random Numbers

SeedSequence(C++11)

RandomNumberEngine(C++11)

RandomNumberDistribution(C++11)

UniformRandomBitGenerator(C++11)

RandomNumberEngineAdaptor(C++11)

Concurrency

BasicLockable(C++11)

Lockable(C++11)

TimedLockable(C++11)

SharedLockable(C++14)

SharedTimedLockable(C++14)

Mutex(C++11)

TimedMutex(C++11)

SharedMutex(C++17)

SharedTimedMutex(C++14)

Ranges

RangeAdaptorObject(C++20)

RangeAdaptorClosureObject(C++20)

Multidimensional View

LayoutMapping(C++23)

LayoutMappingPolicy(C++23)

AccessorPolicy(C++23)

Other



CharTraits

RegexTraits(C++11)  

BitmaskType

LiteralType(C++11)

NumericType



UnaryTypeTrait(C++11)

BinaryTypeTrait(C++11)

TransformationTrait(C++11)

Clock(C++11)

TrivialClock(C++11)









[edit] 

A ReversibleContainer is a Container that has iterators that meet the requirements of either LegacyBidirectionalIterator or LegacyRandomAccessIterator.  Such iterators allow a ReversibleContainer to be iterated over in reverse.



Contents



1 Requirements



1.1 Types

1.2 Expressions





2 Library types

3 Example

4 Defect reports





[edit] Requirements

A type satisfies ReversibleContainer if it satisfies Container, its iterator type belongs to the bidirectional or random access iterator categories and, given the following types and values, the semantic and complexity requirements in the tables below are satisfied:







 Type



 Definition





 X



 an ReversibleContainer type





 T



 the value_type of X





 Value



 Definition





 a



 a value of type X





[edit] Types





Name



Type



Requirements





typename X::reverse_iterator



std::reverse_iterator<X::iterator>



an iterator type whose value type is T





typename X::const_reverse_iterator 



std::reverse_iterator<X::const_iterator> 



a constant iterator type whose value type is T



[edit] Expressions

The types reverse_iterator and const_reverse_iterator in the following table denote typename X::reverse_iterator and typename X::const_reverse_iterator respectively.







Expression



Type



Semantics



 Complexity 





a.rbegin()



reverse_iteratorconst_reverse_iterator for constant a



reverse_iterator(a.end())



Constant





a.rend()



reverse_iteratorconst_reverse_iterator for constant a



reverse_iterator(a.begin())



Constant





a.crbegin()



const_reverse_iterator



const_cast<const X&>(a).rbegin()



Constant





a.crend()



const_reverse_iterator



const_cast<const X&>(a).rend()



Constant



[edit] Library types

The following standard library types satisfy ReversibleContainer requirements:







  array(C++11)



  fixed-sized inplace contiguous array  (class template) [edit]





  deque



  double-ended queue  (class template) [edit]





  list



  doubly-linked list  (class template) [edit]





  vector



  resizable contiguous array  (class template) [edit]





  inplace_vector(C++26)



  resizable, fixed capacity, inplace contiguous array  (class template) [edit]





  map



  collection of key-value pairs, sorted by keys, keys are unique  (class template) [edit]





  multimap



  collection of key-value pairs, sorted by keys  (class template) [edit]





  set



  collection of unique keys, sorted by keys  (class template) [edit]





  multiset



  collection of keys, sorted by keys  (class template) [edit]





[edit] Example

The following example iterates over a vector (which has legacy random-access iterators) in reverse.Run this code

#include <iostream>

#include <vector>

 

int main()

{

    std::vector<int> v = {3, 1, 4, 1, 5, 9};

 

    for (std::vector<int>::const_reverse_iterator i{v.crbegin()}; i != v.crend(); ++i)

        std::cout << *i << ' ';

    std::cout << '\n';

}

Output:



9 5 1 4 1 3



[edit] Defect reports

The following behavior-changing defect reports were applied retroactively to previously published C++ standards.







DR



Applied to



Behavior as published



Correct behavior





LWG 2105



C++98



typename X::const_reverse_iterator wasrequired to be an iterator type of value type const T



required to be a constantiterator type of value type T







 





                    