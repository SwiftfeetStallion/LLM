C++ named requirements: EqualityComparable









From cppreference.com





[edit] C++ named requirements



Basic

DefaultConstructible

MoveConstructible(C++11)

CopyConstructible

CopyAssignable

MoveAssignable(C++11)

Destructible

Type properties

ScalarType

PODType

TriviallyCopyable(C++11)

TrivialType(C++11)

StandardLayoutType(C++11)  

ImplicitLifetimeType

Library-wide

BooleanTestable

EqualityComparable

LessThanComparable

Swappable

ValueSwappable(C++11)

NullablePointer(C++11)

Hash(C++11)

Allocator

FunctionObject

Callable

Predicate

BinaryPredicate

Compare



















Container

Container

ReversibleContainer

AllocatorAwareContainer

SequenceContainer

ContiguousContainer(C++17)

AssociativeContainer

UnorderedAssociativeContainer(C++11)  

Container element

DefaultInsertable(C++11)

CopyInsertable(C++11)

MoveInsertable(C++11)

EmplaceConstructible(C++11)

Erasable(C++11)

Iterator

LegacyIterator

LegacyInputIterator

LegacyOutputIterator

LegacyForwardIterator

LegacyBidirectionalIterator

LegacyRandomAccessIterator

LegacyContiguousIterator(C++17)

ConstexprIterator(C++20)

Stream I/O

FormattedInputFunction

UnformattedInputFunction

FormattedOutputFunction

UnformattedOutputFunction

Formatters

BasicFormatter(C++20)

Formatter(C++20)



Random Numbers

SeedSequence(C++11)

RandomNumberEngine(C++11)

RandomNumberDistribution(C++11)

UniformRandomBitGenerator(C++11)

RandomNumberEngineAdaptor(C++11)

Concurrency

BasicLockable(C++11)

Lockable(C++11)

TimedLockable(C++11)

SharedLockable(C++14)

SharedTimedLockable(C++14)

Mutex(C++11)

TimedMutex(C++11)

SharedMutex(C++17)

SharedTimedMutex(C++14)

Ranges

RangeAdaptorObject(C++20)

RangeAdaptorClosureObject(C++20)

Multidimensional View

LayoutMapping(C++23)

LayoutMappingPolicy(C++23)

AccessorPolicy(C++23)

Other



CharTraits

RegexTraits(C++11)  

BitmaskType

LiteralType(C++11)

NumericType



UnaryTypeTrait(C++11)

BinaryTypeTrait(C++11)

TransformationTrait(C++11)

Clock(C++11)

TrivialClock(C++11)









[edit] 

The type must work with == operator and the result should have standard semantics.



Contents



1 Requirements

2 Notes

3 Defect reports

4 See also





[edit] Requirements

The type T satisfies EqualityComparable if given expressions a, b and c of type T or (since C++11) const T, the following expression is valid and has its specified effects:







 Expression 



Type



Effects





a == b



meets BooleanTestable(until C++20)



Establishes an equivalence relation, that is, it satisfies the following properties:

 For all values of a, a == a yields true. 

 If a == b, then b == a.

 If a == b and b == c, then a == c.







models boolean-testable(since C++20)



[edit] Notes

To satisfy this requirement, types that do not have built-in comparison operators have to provide a user-defined operator==.

For the types that are both EqualityComparable and LessThanComparable, the C++ standard library makes a distinction between



 Equality, which is the value of the expression a == b and

 Equivalence, which is the value of the expression !(a < b) && !(b < a).



[edit] Defect reports

The following behavior-changing defect reports were applied retroactively to previously published C++ standards.







DR



Applied to



Behavior as published



Correct behavior





LWG 283



C++98



even if T is EqualityComparable, therequirements did not apply to const T objects



they apply toconst T instead of T





LWG 2114(P2167R3)



C++98



convertibility to bool was too weak to reflect the expectation of implementations



requirements strengthened



[edit] See also





  equality_comparableequality_comparable_with(C++20)



  specifies that operator == is an equivalence relation  (concept) [edit]









 





                    